name: C Build and Test

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Install dependencies
      run: sudo apt-get update && sudo apt-get install -y gcc make

    - name: Build with Make
      run: make

    - name: Run the program (with sample input)
      run: |
        echo "Иванов И.И.
        3
        5 4 5 4 5
        Петров П.П.
        2
        4 3 4 3 4
        Сидоров С.С.
        4
        5 5 5 5 5
        Козлов К.К.
        1
        3 3 3 3 3
        Смирнова А.А.
        2
        4 4 4 4 4
        Васильев В.В.
        3
        5 5 4 4 5
        Павлова Е.Е.
        4
        3 4 3 4 3
        Николаев Н.Н.
        1
        5 5 5 5 4
        Морозов М.М.
        2
        4 5 4 5 4
        Волкова О.О.
        3
        3 3 4 4 3" | ./bin/student_app
